<nav class="main-header navbar navbar-expand navbar-white navbar-light fixed-top">
  <!-- Left navbar links -->
  <ul class="navbar-nav">
    <li class="nav-item">
      <a class="nav-link" data-widget="pushmenu" href="#"><i class="fas fa-bars"></i></a>
    </li>
    <li class="nav-item d-none d-inline-block">
      <a [routerLink]="['/']" class="nav-link"> <i class="fas fa-home"></i></a>
    </li>
  </ul>

  <!-- SEARCH FORM -->
  <form [formGroup]="form" (ngSubmit)="search()" class="navbar-nav ml-auto">
    <div class="input-group input-group">
      <input class="form-control form-control-navbar" name="search" formControlName="search" type="search"
        placeholder="Buscar" aria-label="Search">
      <div class="input-group-append">
        <button class="btn btn-navbar" type="submit">
          <a class="fas fa-search buscar"></a>
        </button>
      </div>
    </div>
  </form>

  <!-- Right navbar links -->
  <ul class="navbar-nav">

    <!-- Notifications Dropdown Menu -->
    <li class="nav-item dropdown" *ngIf="helpService.isLoged()">
      <a class="nav-link" data-toggle="dropdown" href="#">
        <i class="fas fa-user-circle"></i>
        <span class="badge badge-warning navbar-badge">{{soldService.totalSolds}}</span>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
        <span class="dropdown-item dropdown-header">Bienvenido! {{authService.logedUser.username}}</span>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item">
          <i class="fas fa-user-tie mr-2"></i> {{authService.logedUser.name}} {{authService.logedUser.firstLastname}}
        </a>
        <div class="dropdown-divider"></div>
        <a class="dropdown-item">
          <i class="fas fa-user-cog mr-2"></i> <span *ngFor="let rol of authService.roles">{{rol.name}} </span>
        </a>
        <div class="dropdown-divider"></div>
        <a [routerLink]="['/user/perfil']" class="dropdown-item">
          <i class="fas fa-id-card mr-2"></i> Ver perfil
        </a>
        <a [routerLink]="['/pay/order']" class="dropdown-item">
          <i class="fas fa-clipboard-check mr-2"></i> Ver mis órdenes
          <span class="float-right text-muted text-sm">{{soldService.totalSolds}} En Proceso</span>
        </a>
        <div class="dropdown-divider"></div>
        <button (click)="logout()" class="btn btn-primary btn-block">Salir</button>

      </div>
    </li>

    <li class="nav-item dropdown" *ngIf="!helpService.isLoged()">
      <a class="nav-link" data-toggle="dropdown" href="#">
        <i class="fas fa-user-circle"></i>
      </a>
      <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right" [routerLink]="['/auth']">
        <button class="btn btn-primary btn-block">Iniciar Sesión</button>
      </div>
    </li>

    <li class="nav-item" [routerLink]="['/pay/']">
      <a class="nav-link">
        <i class="fas fa-shopping-basket"></i>
        <span *ngIf="productService.totalCarProducts > 0"
          class="badge badge-primary navbar-badge">{{productService.totalCarProducts}}</span>
      </a>
    </li>
  </ul>

</nav>

